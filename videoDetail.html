<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=1.0">
    <title>SMG番茄网---视频列表---测试</title>
    <meta name="Keywords" content=""/>
    <meta name="Description" content=""/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/video.css"/>
    <link rel="stylesheet" href="css/media.css"/>
    <script type="text/javascript" src="js/jquery.1.9.1.js"></script>
    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/videoControl.js"></script>
    <script src="js/html5media.min.js"></script>
    <![endif]-->
</head>
<body>
<!--------------header---------------->
<header>
    <div class="container">
        <h1 class="logo"><a href="index.html"><img src="images/logo.png" alt=""></a></h1>
        <nav class="menu hidden">
            <ul>
                <li><a href="index.html">首页</a></li>
                <li class="active"><a href="newsList1.html">新闻</a></li>
                <li><a href="">服务</a></li>
                <li><a href="">购物</a></li>
                <li><a href="">论坛</a></li>
                <li><a href="">宣传</a></li>
                <li><a href="">工具包</a></li>
                <li><a href="">部门列表</a></li>
            </ul>
        </nav>
        <form class="search hidden" action="">
            <img src="images/icon_search.png" alt=""/>
            <input type="text" placeholder="搜索"/>
        </form>
        <ul class="user hidden">
            <li><a href=""><img src="images/icon_login.jpg" alt=""></a><p>登录</p></li>
            <li><a href=""><img src="images/icon_phone.jpg" alt="" style="margin-left: 6px;"></a><p>客户端</p></li>
        </ul>
    </div>
    <ul class="btn show">
        <li class="btn_search"><img src="images/search_phone.png" alt=""/></li>
        <li class="btn_menu"><img src="images/menu_phone.png" alt=""/></li>
    </ul>
</header>
<div class="phone_search">
    <form action="">
        <input type="text" placeholder="搜索"/>
        <button type="button" class="close" style="border-left: 1px solid #dadada;">X</button>
        <button type="submit"><img src="images/search_phone.png" alt=""/></button>
    </form>
</div>
<nav class="phoneMenu">
    <ul class="user">
        <li><a href=""><img src="images/user_phone.png" alt=""/><p>登录</p></a></li>
        <li><a href=""><img src="images/phone_phone.png" alt=""/><p>客户端</p></a></li>
        <div style="height: 14px;width: 1px;background-color: #fff;position: absolute;top:24px;left: 50%;"></div>
    </ul>
    <ul class="menu_link">
        <li><a href="index.html">首页</a></li>
        <li class="active"><a href="newsList1.html">新闻</a></li>
        <li><a href="">服务</a></li>
        <li><a href="">购物</a></li>
        <li><a href="">论坛</a></li>
        <li><a href="">宣传</a></li>
        <li><a href="">工具包</a></li>
        <li><a href="">部门列表</a></li>
    </ul>
</nav>
<!--------------主体内容---------------->
<div class="container">
    <div class="brand"><a href="index.html">首页</a> > <a href="">新闻</a> > <a class="mainC" href="">视频 </a></div>
    <div class="main_left">
        <div class="videoBanner hidden">
            <div class="videoWrap" style="width:100%;height: 11.25rem;position: relative;">
                <video src="movie.mp4" class="movie">
                </video>
                <img class="play" src="images/play.png" alt="">
                <div class="control">
                    <!--播放，暂停按钮-->
                    <a href="javascript:;" class="btnPlay"></a>
                    <a href="javascript:;" class="btnPause" style="display: none;"></a>
                    <!--进度条-->
                    <div class="progress">
                        <div class="progressPlay"></div>
                    </div>
                    <!--显示视频播放时间和持续时间-->
                    <p class="videoTime"><span class="current"></span>/<span class="duration"></span></p>
                    <!--全屏-->
                    <a href="javascript:;" class="btnFullScreen"></a>
                    <!--声音-->
                    <a href="javascript:;" class="btnSound"></a>
                    <a href="javascript:;" class="btnNoSound" style="display:none;"></a>
                </div>
            </div>
        </div>
        <h2 class="title">美丽的南湾大桥一日游</h2>
        <p class="des">
            <img src="images/icon_time.png" alt=""/>2016-11-21 16:20:16 | 发布者：张弛
            <span class="viewNum"><img src="images/icon_user1.png" alt=""/>浏览数：15</span>
        </p>
    </div>
    <div class="main_right hidden">
        <a href="" class="mainBgc uploadImg"><img src="images/video.jpg" alt="">上传视频</a>
        <!--相关视频-->
        <div class="relatedVideo">
            <h4 class="mainC"><i class="mainBgc"></i>相关视频</h4>
            <ul class="relatedVideoList">
                <li>
                    <a href="">
                        <img src="images/message1.png" alt="">
                        <div class="play"><img src="images/icon_play.png" alt=""></div>
                        <p>“闻鸡起舞”SMG自己的春晚</p>
                    </a>
                </li>
                <li style="float: right;">
                    <a href="">
                        <img src="images/message2.png" alt="">
                        <div class="play"><img src="images/icon_play.png" alt=""></div>
                        <p>喜羊羊安全用电</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/message1.png" alt="">
                        <div class="play"><img src="images/icon_play.png" alt=""></div>
                        <p>“闻鸡起舞”SMG自己的春晚</p>
                    </a>
                </li>
                <li style="float: right;">
                    <a href="">
                        <img src="images/message2.png" alt="">
                        <div class="play"><img src="images/icon_play.png" alt=""></div>
                        <p>喜羊羊安全用电</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/message1.png" alt="">
                        <div class="play"><img src="images/icon_play.png" alt=""></div>
                        <p>“闻鸡起舞”SMG自己的春晚</p>
                    </a>
                </li>
                <li style="float: right;">
                    <a href="">
                        <img src="images/message2.png" alt="">
                        <div class="play"><img src="images/icon_play.png" alt=""></div>
                        <p>喜羊羊安全用电</p>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<div id="mask" style="width: 100%;height: 100%;background-color: rgba(0,0,0,.5);position: absolute;top:0;left:0;display: none;z-index: 100;"></div>
<!--侧滑--搜索-->
<script type="text/javascript">
    $(function () {
        $(".btn_menu").click(function () {
            $("body").addClass("swipe");
            $("nav.phoneMenu").css("display","block");
            $("#mask").css("display","block");
        }) ;
        $("#mask").click(function () {
            $("body").removeClass("swipe");
            $("nav.phoneMenu").css("display","none");
            $("#mask").css("display","none");
        }) ;
        function searchInput() {
            var width = $("body").css("width").replace("px","")-145;
            $(".phone_search input").css("width",width);
        }
        searchInput();
        $(".close").click(function () {
            $(".phone_search").css("display","none");
            $("body").css("overflow","auto");
        }) ;
        $(".btn_search").click(function () {
            $(".phone_search").css("display","block");
            $("body").css("overflow","hidden");
        }) ;
    });
</script>
<!--play-->
<script type="text/javascript">
    $(function () {
        /*播放*/
        function videoPlay($video,$imgPlay,$btnPlay,$btnPause) {
            $video[0].play();
            $imgPlay.css("display","none");
            $btnPlay.css("display","none");
            $btnPause.css("display","block");
        }
        /*暂停*/
        function videoPause($video,$imgPlay,$btnPlay,$btnPause) {
            $video[0].pause();
            $imgPlay.css("display","block");
            $btnPlay.css("display","block");
            $btnPause.css("display","none");
        }
        /*播放，暂停按钮--操作*/
        $(".play").click(function () {
            videoPlay($(".movie"),$(".play"),$(".btnPlay"),$(".btnPause"));
        });
        $(".btnPlay").click(function () {
            videoPlay($(".movie"),$(".play"),$(".btnPlay"),$(".btnPause"));
        });
        $(".btnPause").click(function () {
            videoPause($(".movie"),$(".play"),$(".btnPlay"),$(".btnPause"));
        });
        /*--------显示视频播放时间和持续时间条--------*/
        /*视频总时间*/
        var durationTime;
        $(".movie").on('loadedmetadata', function() {
            durationTime = $(".movie")[0].duration;
            var durationMinutes = parseInt( Math.floor(durationTime)/60)
            if(durationMinutes<10){
                durationMinutes = "0" + durationMinutes;
            }
            var durationSeconds = parseInt( Math.floor(durationTime)%60)
            if(durationSeconds<10){
                durationSeconds = "0" + durationSeconds;
            }
            $('.duration').text(durationMinutes+":"+durationSeconds);
        });
        //实时更新当前时间
        function currentTimeFun(currentTime) {
            var currentMinutes = parseInt(currentTime/60)
            if(currentMinutes<10){
                currentMinutes = "0" + currentMinutes;
            }
            var currentSeconds = parseInt(currentTime%60)
            if(currentSeconds<10){
                currentSeconds = "0" + currentSeconds;
            }
            $('.current').text(currentMinutes+":"+currentSeconds);
        }
        currentTimeFun(0);
        var currentTime;
        $(".movie").on('timeupdate', function() {
            currentTime = $(".movie")[0].currentTime;
            currentTimeFun(Math.floor(currentTime));
            progress(durationTime,currentTime);
        });
        /*进度条*/
        function progress(durationTime,currentTime) {
            var percent = currentTime/durationTime*100;
            $(".progressPlay").css("width",percent+"%");
        }
        /*声音*/
        /*全屏*/
        $('.btnFullScreen').on('click', function() {
            var de = $(".videoWrap")[0];
            if (de.requestFullscreen) {
                de.requestFullscreen();
            } else if (de.mozRequestFullScreen) {
                de.mozRequestFullScreen();
            } else if (de.webkitRequestFullScreen) {
                de.webkitRequestFullScreen();
            } else if (de.msRequestFullscreen) {
                de.msRequestFullscreen();
            }
        });

    })
</script>
<!--切换video-->
<script type="text/javascript">
    $(".videoBannerList li").click(function () {
        $(".movie").attr("src",$(this).attr("videoUrl"));
    });
</script>
<!--[if lt IE 9]>
<script type="text/javascript" src="js/rem.js"></script>
<![endif]-->
</body>
</html>